@model IEnumerable<_22023EMVC.Models.Product>

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>
<table id="productTable" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
    <thead>
        <tr>
            <th>Name</th>
            <th>Price</th>
            <th>Category</th>
            <th>Description</th>
            <th>Quantity</th>
        </tr>
    </thead>
</table>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js "></script>

<script>
    $(document).ready(function () {
        $("productTable").DataTable({
            "processing": true,
            "serverSide": false,
            "filter": true,
            "orderMulti": false,
            "pageLength": 5,
            
            "ajax": {
                "url": "/Product/GetAll",
                "type": "GET",
                "datatype": "json"
            },

            "columnDefs":
            [{
                "targets": [0],
                "visible": true,
                "searchable": true
            }],
            "columns":
            [
                    {"data": "Name", "name": "Name", "autoWidth": true},
            ]
        });
    });
</script>